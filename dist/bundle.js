!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);n(1);const o=document.querySelector(".control-button"),r=document.querySelector(".control-button__previous"),s=document.querySelector(".control-button__next"),a=document.querySelectorAll(".part"),i=document.querySelectorAll(".stepper__wrapper__step"),c=document.querySelector(".cart-panel"),l=document.querySelector(".part.shipping-method"),u=document.querySelector(".standard"),d=document.querySelector(".dhl");let m=0;o.addEventListener("click",(function(t){t.preventDefault();const e=i[m];if(console.log("nowStep:",e),console.log("target:",t.target),t.target.classList.contains("control-button__next")&&"下一步"===t.target.innerHTML){const t=i[m+1];console.log("nextStep:",t),e.classList.remove("active"),e.classList.add("checked"),t.classList.add("active"),a[m].classList.toggle("d-none"),a[m+1].classList.toggle("d-none"),m+=1}else if(t.target.classList.contains("control-button__previous")){const t=i[m-1];console.log("prevStep:",t),e.classList.remove("active"),t.classList.remove("checked"),t.classList.add("active"),a[m].classList.toggle("d-none"),a[m-1].classList.toggle("d-none"),m-=1}0===m?r.classList.add("d-none"):r.classList.remove("d-none"),s.innerText=2===m?"確認下單":"下一步"}));const p=document.querySelector(".cart__items"),_={city:["臺北市","新北市","桃園市","臺中市","臺南市","高雄市","新竹縣","苗栗縣","彰化縣","南投縣","雲林縣","嘉義縣","屏東縣","宜蘭縣","花蓮縣","臺東縣","澎湖縣","金門縣","連江縣","基隆市","新竹市","嘉義市"],cartItem:[{id:1,description:"破壞補丁修身牛仔褲",amount:1,price:3999,subtotal:3999,image:"/src/pictures/item1@2x.png"},{id:2,description:"刷色直筒牛仔褲",amount:1,price:1299,subtotal:1299,image:"/src/pictures/item2@2x.png"}],controlAmount(t,e){const n=this.cartItem.find(e=>e.id===Number(t));if("plus"===e)n.amount++;else if("minus"===e){if(!(n.amount>0))return;n.amount--}this.recalculateItemTotal(n)},recalculateItemTotal(t){t.subtotal=t.price*t.amount,this.recalculateTotalAmount(t)},recalculateTotalAmount(t){let e=0;return this.cartItem.forEach(t=>{e+=t.subtotal}),e}},f=document.querySelector('[name="city"]'),g=document.querySelector(".cart-total.title-value"),v={renderCity(){let t='<option value="">--Please select city--</option>';_.city.forEach(e=>{t+=`\n      <option value="">${e}</option>`}),f.innerHTML=t},renderCartList(){let t="";_.cartItem.forEach(e=>{t+=`\n        <div class="cart__items__item">\n          <div class="cart__items__item__image">\n            <img src="${e.image}" alt="">\n          </div>\n          <div class="cart__items__item__information">\n            <div class="cart__items__item__information__name">\n              ${e.description}\n            </div>\n            <div class="cart__items__item__information__amount" data-id="${e.id}">\n             <button class="amount_btn minus cursor-pointer"><i class="fa-solid fa-minus"></i></button>\n             <span class="amount">${e.amount}</span>\n             <button class="amount_btn plus cursor-pointer"><i class="fas fa-plus"></i></button>\n            </div>\n            <div class="cart__items__item__information__price">$<span></span>${e.subtotal}</div>\n          </div>\n        </div>\n      `}),p.innerHTML=t},renderTotal(){g.innerText=""+_.recalculateTotalAmount()},renderPage(){this.renderCartList(),this.renderTotal(),this.renderCity()}},b={controlItemAmount(t,e){let n=t.parentElement.dataset.id;_.controlAmount(n,e),v.renderCartList(),v.renderTotal()}};v.renderPage(),l.addEventListener("click",(function(t){t.target.closest(".standard")?(console.log("closestStandard:",t.target),d.classList.remove("shipping-active"),u.classList.add("shipping-active")):t.target.closest(".dhl")&&(console.log("closestDHL:",t.target),u.classList.remove("shipping-active"),d.classList.add("shipping-active"))})),c.addEventListener("click",(function(t){const e=t.target.matches(".amount_btn")?t.target:t.target.parentElement;e.matches(".plus")&&b.controlItemAmount(e,"plus"),e.matches(".minus")&&b.controlItemAmount(e,"minus")}))},function(t,e,n){}]);